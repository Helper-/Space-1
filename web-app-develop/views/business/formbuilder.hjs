<!DOCTYPE html>
<html>
    <head>
      <meta charset='utf-8'>
      <meta http-equiv="X-UA-Compatible" content="chrome=1">
      <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/demo.css">
      <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/form-builder.min.css">
      <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/form-render.min.css">
    </head>
    <body>
      <div class="demo-wrap">
        <div id="main_content_wrap" class="outer">
          <section id="main_content" class="inner">
            <div class="build-form">
              <h2><strong>Build Your Form Here:</strong></h2>
              <form action="">
                <textarea name="form-builder-template" id="form-builder-template" cols="30" rows="10"></textarea>
              </form>
              <br style="clear:both">
            </div>
            <div class="render-form">
              <h2><strong>Your Form Looks Like:</strong></h2>
              <form id="rendered-form">
                <p class="cta">Add some fields to the formBuilder above and render them here.</p>
              </form>
              <div class="render-description">
                <button id="render-form-button" class="btn btn-primary">Render form</button>
                <a href="/manageforms">
                    <input type="button" value="Return to Forms" class="btn btn-primary" id="return" />
                </a>
              </div>
            </div>
            <br style="clear:both">
          </section>
        </div>
      </div>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
      <script src="javascripts/form-builder.min.js"></script>
      <script src="javascripts/form-render.min.js"></script>
      <script>
      jQuery(document).ready(function($) {
        'use strict';
        var template = document.getElementById('form-builder-template'),
          formContainer = document.getElementById('rendered-form'),
          renderBtn = document.getElementById('render-form-button');
        $(template).formBuilder();
        $(renderBtn).click(function(e) {
          e.preventDefault();
          $(template).formRender({
            container: $(formContainer)
          });
        });
        $(saving).click(function(){
            alert("clicked save button");
            var json = {business: "111", fields: $(template)};
            console.log($(json));
            $.ajax({
                            url:'/api/form',
                            type:'POST',
                            data: JSON.stringify(json),
                            contentType:'application/json',
                            dataType:'json',
                            success:function(){
                                alert('Form Submitted!');
                            }
            });
        });

      });
      </script>
    </body>
</html>





<!--<!DOCTYPE html>
<html>
<head>
    <title>{{ title }}</title>
    <link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel='stylesheet' href='/stylesheets/style.css'/>
    {{{ newrelic.getBrowserTimingHeader }}}
    <link rel="stylesheet" type="text/css" href="/stylesheets/bootstrap-nav-wizard.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <script src="/javascripts/lib/jquery/jquery-2.1.3.min.js"></script>
    <script src = "/javascripts/underscore-min.js"></script>
    <script src="/javascripts/formbuilder.js"></script>

    <script src="/javascripts/js/form-builder.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="/stylesheets/form-builder.css">


    <script>
    form = {{{form}}};
    findID = "{{{findID}}}";
    </script>
    <style>
        #theme-toolbar {
            position: fixed;
            width: 350px;
            height: 100%;
            top: 0;
            right: 0;
            border-left: 2px solid #42444f;
            background-color: #42444f;
            overflow-y: scroll;
            color: #fff;
        }

        html, body {
            height: 100%;
        }

        .customBG {
            width: 100%;
            height: auto;
            background: url(images/bg/full/bg10.jpg) no-repeat center center fixed;
            background-size: cover;
            z-index: -10;
        }

        label {
          text-align: right;
        }

        .previewForm input {
          width: 300px;
        }

        .previewForm select {
          width: 300px;
        }

        .builderForm {
            width: 280px;
        }

        .builderForm input {
            width: 150px;
            margin-bottom: 10px;
            margin-right: 5px;
            margin-left: 10px;

        }

        .builderForm select {
            width: 70px;
            margin-bottom: 10px;
        }

        .add {
            margin-left: 10px;
        }

    </style>
</head>
<body class="customBG">

  <div class="navbar-fixed-top">
    <div class="navbar-header preview-nav">
      <h2>Form Preview</h2>
    </div>
  </div>
  <div class="container">

      <div class="container-preview col-md-10">
        <div class="row innerInfo" id="formContent">

        </div>
      </div>
      <div class="col-md-2" id="theme-toolbar">
        <div class="sidebar-nav navbar-fixed-top">
          <ul class="nav navbar-nav navbar-right navbar-padding">
            <h2>Form Builder</h2>
          </ul>
        </div>
        <div id="toolbar-main" class="active-page container-margin toolbar-bgcolor">
            <fieldset id="buildyourform" class="builderForm"></fieldset>
            <input type="button" value="Add a field" class="add btn btn-default" id="add" />
            <input type="button" value="Save" class="add btn custom-button" id="submit" />
            <a href="/manageforms">
                <input type="button" value="Return to Forms" class="add btn btn-default" id="return" />
            </a>

            <textarea name="FormBuilder" id="FormBuilder"></textarea>
            <script>
                alert("in script");
                $('textarea').formBuilder({

                disableFields: {
                  before: '',
                  after: ''
                },

                roles: {
                  1: 'Administrator'
                },

                showWarning: false,

                serializePrefix: 'frmb',

                messages: {
                  add: 'Add Item',
                  allowSelect: 'Allow Select',
                  autocomplete: '<a href="http://www.jqueryscript.net/tags.php?/autocomplete/">Autocomplete</a>',
                  cannotBeEmpty: 'This field cannot be empty',
                  checkboxGroup: 'Checkbox Group',
                  checkbox: 'Checkbox',
                  checkboxes: 'Checkboxes',
                  clearAllMessage: 'Are you sure you want to remove all items?',
                  clearAll: 'Clear All',
                  close: 'Close',
                  copy: 'Copy To Clipboard',
                  <a href="http://www.jqueryscript.net/time-clock/">date</a>Field: 'Date Field',
                  description: 'Help Text',
                  descriptionField: 'Description',
                  devMode: 'Developer Mode',
                  disableFields: 'These fields cannot be moved.',
                  editNames: 'Edit Names',
                  editorTitle: 'Form Elements',
                  editXML: 'Edit XML',
                  fieldVars: 'Field Variables',
                  fieldRemoveWarning: 'Ideas have already been submitted to this community. If you remove this field you will no longer be able to use it for idea submission. The data will still be available for reporting. Are you sure you want to proceed?',
                  hide: 'Edit',
                  label: 'Label',
                  labelEmpty: 'Field Label cannot be empty',
                  limitRole: 'Limit access to one or more of the following roles:',
                  mandatory: 'Mandatory',
                  maxLength: 'Max Length',
                  minOptionMessage: 'This field requires a minimum of 2 options',
                  name: 'Name',
                  no: 'No',
                  off: 'Off',
                  on: 'On',
                  optional: 'optional',
                  optionPlaceholder: 'Value',
                  optionEmpty: 'Option value required',
                  paragraph: 'Paragraph',
                  preview: 'Preview',
                  radioGroup: 'Radio Group',
                  radio: 'Radio',
                  removeMessage: 'Remove Element',
                  remove: '&#215;',
                  required: 'Required',
                  richText: 'Rich Text Editor',
                  roles: 'Access',
                  save: 'Save Template',
                  selectOptions: 'Select Items',
                  select: 'Select',
                  selectionsMessage: 'Allow Multiple Selections',
                  text: 'Text Field',
                  warning: 'Warning!',
                  viewVars: 'View Field Variables',
                  viewXML: 'View XML',
                  yes: 'Yes'
                }

                });

            </script>
        </div>
      </div>
  </div>
</body>
</html>-->
